!function(n,o,r,t,f,e,u){var c,s,a,d,m,l,w,g,p,k,v,L=1,N=function(o,r){return n[t](l+o+r)},T=function(n,o){return N(n,o)[f]===w[g]},b=function(){for(g=L=(L+1)%2,p=0,m[e]=m[f]=w[g=(g+1)%2],c=1;7>c;c++)for(s=1;8>s;s++)N(c,s)[f]=""},h=function(n,r,t){t>0&&(N(t,r)[f]=""),N(t+1,r)[f]=w[g],t===n-1?function(n,o){return function(n,o){for(c=o-1;c>0&&T(n,c);c--);for(s=o+1;8>s&&T(n,s);s++);return s-c>4}(n,o)||function(n,o){for(a=n+1;7>a&&T(a,o);a++);return a-n>3}(n,o)||function(n,o){for(c=n-1,s=o-1;c>0&&!(1>s)&&T(c,s);c--)s--;for(a=n+1,s=o+1;7>a&&!(s>7)&&T(a,s);a++)s++;return a-c>4}(n,o)||function(n,o){for(c=n-1,s=o+1;c>0&&!(s>7)&&T(c,s);c--)s++;for(a=n+1,s=o-1;7>a&&!(1>s)&&T(a,s);a++)s--;return a-c>4}(n,o)}(n,r)?p=1&&o[u](d[v].replace("%s",w[g].toLowerCase()))&&b():m[e]=m[f]=w[g=(g+1)%2]:setTimeout(function(){h(n,r,t+1)},20)},y=function(i){for(c=1;7>c;c++)for(s=1;8>s;s++)N(c,s)[r]=function(n,o){return function(){if(!p)for(o=6;o>0;o--)if(!N(o,n)[f]){h(o,n,0);break}}}(s);n[t](i)[r]=function(){o[u](d[k])&&b()}};return function(o,r,f,u,c,s,a){l=u,k=r,v=f,m=n[t](u),d={};for(i in o=n[t](o).childNodes)f=o[i],void 0!==(u=f.id)&&(d[u]=f[e]);w=[d[s],d[a]],y(c),b()}}(document,window,"onclick","getElementById","className","innerHTML","confirm")("messages","newgame","won","color","restart","p1","p2");
